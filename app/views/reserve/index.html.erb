<%= stylesheet_link_tag "calendar", "data-turbo-track": "reload" %>

<div class="container mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold text-center text-indigo-600 mb-8">จองอะไรสักอย่าง</h1>

  <%= month_calendar(events: @details) do |date, events| %>
    <div class="h-full min-h-[100px] border p-2">
      <div class="text-sm text-gray-600 mb-1 font-bold"><%= date.day %></div>

      <% left_count = events.select { |e| e.zoneControl == "Left" }.count %>
      <% right_count = events.select { |e| e.zoneControl == "Right" }.count %>

      <div class="btn-group">
        <% if left_count > 0 %>
            <button class="btn-left">
                Left <%= left_count %>
            </button>
        <% end %>

        <% if right_count > 0 %>
            <button class="btn-right">
                Right <%= right_count %>
            </button>
        <% end %>
      </div>
    </div>
  <% end %>
</div>
